<ul class='nav nav-tabs' style='border-bottom: 0px'>
  <li>
    <a id='collapse-form' class='btn btn-default' data-toggle='collapse' data-target='#form-evaluation' style='border-color: #cccccc'>
      <span class='glyphicon glyphicon-minus-sign' aria-hidden='true'></span>
    </a>
  </li>
  <li class='active'>
    <%= link_to 'ジョブ登録', '#new-evaluation', id: 'tab-register', 'data-toggle' => 'tab' %>
  </li>
</ul>

<div class='panel panel-default'>
  <div id='form-evaluation' class='panel-body collapse in'>
    <div class='tab-content'>
      <div id='new-evaluation'>
        <%= form_for @evaluation, html: {multipart: true}, url: evaluations_path, remote: true do |f| %>
          <div class='row'>
            <div class='col-xs-6 form-group'>
              <%= f.label :model, 'モデル' %>
              <%= f.file_field :model, name: :model %>
            </div>
            <div class='col-xs-6 form-group'>
              <%= f.label :data, '評価データ' %>
              <%= label_tag :data_source, '指定方法:' %>
              <%= select_tag :data_source, options_for_select(data_source_option) %>
              <%
                params = {
                  id: 'evaluation_data_file',
                  class: 'form-data-source not-selected',
                  name: :data,
                  disabled: true,
                }
              %>
              <%= f.file_field :data, params %>
              <%
                params = {
                  id: 'evaluation_data_text',
                  class: 'form-control form-data-source not-selected',
                  name: :data,
                  value: '',
                  disabled: true,
                  style: 'resize:vertical',
                }
              %>
              <%= f.text_area :data, params %>
              <%
                params = {
                  id: 'evaluation_data_random',
                  class: 'form-control form-data-source not-selected',
                  name: :num_data,
                  value: '',
                  disabled: true,
                }
              %>
              <%= f.text_field :data, params %>
            </div>
          </div>
          <div class='row text-right'>
            <div class='col-xs-12'>
              <%= f.submit '実行', class: 'btn btn-primary btn-sm btn-submit' %>
              <%= f.submit 'リセット', type: 'reset', class: 'btn btn-default btn-sm' %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>

<h3 class='table-title'>ジョブ実行履歴</h3>
<span id='page-info'>
  <%= render partial: 'layouts/page_info', locals: {resources: @evaluations} %>
</span>
<span id='paginate'>
  <%= paginate @evaluations %>
</span>
<table id='table-evaluation' class='table table-hover'>
  <thead>
    <% evaluation_table_headers.each do |header| %>
      <th width='<%= header[:width] %>%'><%= header[:name] %></th>
    <% end %>
    <th width='7%' style='border: none'></th>
  </thead>
  <tbody>
    <%= render @evaluations %>
  </tbody>
</table>
