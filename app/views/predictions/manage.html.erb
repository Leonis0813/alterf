<div class='row center-block'>
  <div class='col-lg-4'>
    <div id='new-prediction' class='well'>
      <h3>レースを予測</h3>
      <p>テストデータは<a href='http://db.netkeiba.com' target='_brank'>こちら</a>から</p>
      <%= form_for @prediction, :html => {:multipart => true}, :url => predictions_path, :remote => true do |f| %>
        <div class='form-group'>
          <%= f.label :model, 'モデル' %><br>
          <%= f.file_field :model, {:class => 'form-control', :name => :model, :required => true} %>
        </div>
        <div class='form-group'>
          <%= f.label :test_data, 'テストデータ' %>
          <label><%= radio_button_tag :type, 'file', :checked %> ファイル</label>
          <label><%= radio_button_tag :type, 'url' %> URL</label>
          <br>
          <%= f.file_field :test_data, {:class => 'form-control', :name => :test_data, :required => true} %>
        </div>
        <%= f.submit '実行', :class => 'btn btn-primary btn-sm btn-submit' %>
        <%= f.submit 'リセット', :type => 'reset', :class => 'btn btn-default btn-sm' %>
      <% end %>
    </div>
  </div>

  <div class='col-lg-8 well'>
    <h3 style='padding: 10px 0px'>ジョブ実行履歴</h3>
    <% from = @predictions.total_count == 0 ? 0 : @predictions.offset_value + 1 %>
    <% info = {:total_count => @predictions.total_count, :from => from, :to => @predictions.offset_value + @predictions.size} %>
    <h4 style='padding: 10px 0px;display: inline'><%= t('views.pagination.info', info) %></h4>
    <%= paginate @predictions %>
    <table class='table table-hover'>
      <thead>
        <th width='150px'>実行開始日時</th>
        <th>モデル</th>
        <th width='20%'>テストデータ</th>
        <th width='30%'>予測結果</th>
      </thead>
      <tbody>
        <%= render @predictions %>
      </tbody>
    </table>
  </div>
</div>
